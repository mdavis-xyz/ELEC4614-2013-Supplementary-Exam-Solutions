% \includegraphics[page=12,clip, trim=4.5cm 19cm 4cm 3cm, scale=0.8]{nonIsolatedDCDC/figures/buck.pdf}


\begin{circuitikz}%[node distance = 2 cm, scale=1]

\ctikzset{voltage/distance from node=.7}

\xdef\topy{3}
\xdef\leftx{0}
\xdef\midLeftx{3}
\xdef\midRightx{7}
\xdef\rightx{9}

\node[nfet, rotate=90] (sw) at (0.5*\leftx + 0.5*\midLeftx,\topy) {};
\draw (sw.B) -- (sw.S);

\draw
   (\leftx,0) 
   to[battery1,l=$V_d$]
   (\leftx,\topy)
   to[short, i=$i_d$]
   (sw.D)
   (sw.S)
   --
   (\midLeftx,\topy)
   to[L, l=$L$, i=$i_L$, v=$V_L$]
   (\midRightx,\topy)
   to[short, i=$i_o$]
   (\rightx,\topy)
   to[R, l=$R$, v<=$V_o$]
   (\rightx,0)
   --
   (\leftx,0)
   
   (\midLeftx,0)
   to[D, v>=$V_d$, i=$i_D$]
   (\midLeftx,\topy)
   
   (\midRightx,0)
   to[C, l=$C$, i_<=$i_C$]
   (\midRightx,\topy)
   ;
  

\end{circuitikz}